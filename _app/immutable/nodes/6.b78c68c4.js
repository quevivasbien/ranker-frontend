import{u as ae}from"../chunks/stores.067376b0.js";import{s as le,n as Y,r as ne}from"../chunks/scheduler.0d71c3e3.js";import{S as oe,i as re,g as i,s as y,m as $,h as u,j as C,A as T,c as w,f as m,n as ee,k as d,a as te,y as t,E as V,z as F,B as ie,o as ue}from"../chunks/index.f7859a9c.js";import{g as fe}from"../chunks/navigation.cf172ef0.js";import{b as se}from"../chunks/paths.b32a9ca7.js";function de(r){return{login:async(s,l)=>{const n=await r.fetch("https://ranker-backend.fly.dev/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:l})});if(n.ok){const a=await n.json();ae.set({username:s,token:a})}return n.status}}}const xe=Object.freeze(Object.defineProperty({__proto__:null,load:de},Symbol.toStringTag,{value:"Module"}));function Z(r){let e,s;return{c(){e=i("div"),s=$(r[2]),this.h()},l(l){e=u(l,"DIV",{class:!0});var n=C(e);s=ee(n,r[2]),n.forEach(m),this.h()},h(){d(e,"class","text-red-500")},m(l,n){te(l,e,n),t(e,s)},p(l,n){n&4&&ue(s,l[2])},d(l){l&&m(e)}}}function ce(r){let e,s,l="Login",n,a,f,v,L="Username",I,h,_,x,k,J="Password",M,b,z,E,B,j,G='<button type="submit" class="drop-shadow rounded bg-blue-200 disabled:bg-gray-300 p-2">Submit</button>',H,S,A,K="Don't have an account?",R,P,U,q,Q,o=r[2]&&Z(r);return{c(){e=i("div"),s=i("h1"),s.textContent=l,n=y(),a=i("form"),f=i("label"),v=i("span"),v.textContent=L,I=y(),h=i("input"),_=y(),x=i("label"),k=i("span"),k.textContent=J,M=y(),b=i("input"),z=y(),E=i("div"),o&&o.c(),B=y(),j=i("div"),j.innerHTML=G,H=y(),S=i("div"),A=i("span"),A.textContent=K,R=y(),P=i("a"),U=$("Register"),this.h()},l(c){e=u(c,"DIV",{class:!0});var p=C(e);s=u(p,"H1",{class:!0,["data-svelte-h"]:!0}),T(s)!=="svelte-1we6o6e"&&(s.textContent=l),n=w(p),a=u(p,"FORM",{class:!0});var g=C(a);f=u(g,"LABEL",{class:!0});var D=C(f);v=u(D,"SPAN",{["data-svelte-h"]:!0}),T(v)!=="svelte-9difb2"&&(v.textContent=L),I=w(D),h=u(D,"INPUT",{type:!0,class:!0}),D.forEach(m),_=w(g),x=u(g,"LABEL",{class:!0});var N=C(x);k=u(N,"SPAN",{["data-svelte-h"]:!0}),T(k)!=="svelte-1kvjhoz"&&(k.textContent=J),M=w(N),b=u(N,"INPUT",{type:!0,class:!0}),N.forEach(m),z=w(g),E=u(g,"DIV",{class:!0});var W=C(E);o&&o.l(W),W.forEach(m),B=w(g),j=u(g,"DIV",{class:!0,["data-svelte-h"]:!0}),T(j)!=="svelte-l5h3h1"&&(j.innerHTML=G),g.forEach(m),H=w(p),S=u(p,"DIV",{});var O=C(S);A=u(O,"SPAN",{["data-svelte-h"]:!0}),T(A)!=="svelte-11ao6qv"&&(A.textContent=K),R=w(O),P=u(O,"A",{href:!0,class:!0});var X=C(P);U=ee(X,"Register"),X.forEach(m),O.forEach(m),p.forEach(m),this.h()},h(){d(s,"class","text-2xl"),d(h,"type","text"),d(h,"class","border rounded-lg p-2"),d(f,"class","flex flex-row justify-between"),d(b,"type","password"),d(b,"class","border rounded-lg p-2"),d(x,"class","flex flex-row justify-between"),d(E,"class","flex flex-row justify-end"),d(j,"class","flex flex-row justify-end"),d(a,"class","flex flex-col max-w-md space-y-2"),d(P,"href",`${se}/users/add`),d(P,"class","text-blue-500 hover:text-blue-300"),d(e,"class","flex flex-col space-y-4")},m(c,p){te(c,e,p),t(e,s),t(e,n),t(e,a),t(a,f),t(f,v),t(f,I),t(f,h),V(h,r[0]),t(a,_),t(a,x),t(x,k),t(x,M),t(x,b),V(b,r[1]),t(a,z),t(a,E),o&&o.m(E,null),t(a,B),t(a,j),t(e,H),t(e,S),t(S,A),t(S,R),t(S,P),t(P,U),q||(Q=[F(h,"input",r[5]),F(b,"input",r[6]),F(a,"submit",ie(r[3]))],q=!0)},p(c,[p]){p&1&&h.value!==c[0]&&V(h,c[0]),p&2&&b.value!==c[1]&&V(b,c[1]),c[2]?o?o.p(c,p):(o=Z(c),o.c(),o.m(E,null)):o&&(o.d(1),o=null)},i:Y,o:Y,d(c){c&&m(e),o&&o.d(),q=!1,ne(Q)}}}function pe(r,e,s){let{data:l}=e;const{login:n}=l;let a,f,v;async function L(){const _=await n(a,f);if(_===200){fe(`${se}/items`);return}s(1,f=""),_===401?s(2,v="Incorrect username or password"):s(2,v="An error occurred")}function I(){a=this.value,s(0,a)}function h(){f=this.value,s(1,f)}return r.$$set=_=>{"data"in _&&s(4,l=_.data)},[a,f,v,L,l,I,h]}class ge extends oe{constructor(e){super(),re(this,e,pe,ce,le,{data:4})}}export{ge as component,xe as universal};
